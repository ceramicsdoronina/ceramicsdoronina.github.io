/* ═════════════════════════════════════════════
   MOBILE.CSS (pulito, no duplicati)
   Supporta:
   - body.mobile-view (view forzata)
   - responsive automatico (<=1024px)
   Menu: dropdown assoluto sotto la barra (stabile Safari)
═════════════════════════════════════════════ */

/* ─────────────────────────────────────────────
   A) FIX GLOBALI
──────────────────────────────────────────────*/
html, body{
  width:100%;
  max-width:100%;
  overflow-x:hidden;
}
img, video, iframe, svg{
  max-width:100%;
  height:auto;
}
p, li, a{
  overflow-wrap:anywhere;
  word-break:break-word;
}
h1,h2,h3,h4{
  overflow-wrap:normal;
  word-break:normal;
  hyphens:none;
}

/* Hamburger nascosto di default */
.nav-toggle-btn,
#nav-toggle{
  display:none;
}

/* ─────────────────────────────────────────────
   B) MOBILE VIEW FORZATA (body.mobile-view)
   (questa è la modalità che usi nei log)
──────────────────────────────────────────────*/
body.mobile-view{
  font-size:14px;
}

body.mobile-view header{
  position:fixed;
  top:0; left:0; right:0;
  z-index:2000;
  background:rgba(255,255,255,.95);
  backdrop-filter:saturate(180%) blur(14px);
  border-bottom:1px solid var(--border);
}

body.mobile-view main{
  padding-top:72px; /* coerente con header */
}

/* mostra hamburger */
body.mobile-view .nav-toggle-btn,
body.mobile-view #nav-toggle{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  margin-left:8px;
  width:36px;
  height:36px;
  border-radius:8px;
  border:1px solid var(--border);
  background:#fff;
  font-size:20px;
  padding:0;
  cursor:pointer;
}

/* ✅ MENU MOBILE (come style.V1.css) */
body.mobile-view nav ul{
  position:absolute;     /* <- stabile */
  top:100%;              /* <- sotto la barra */
  left:0;
  right:0;

  background:#fff;
  border-bottom:1px solid var(--border);
  box-shadow:0 10px 30px rgba(0,0,0,.10);

  display:none;          /* chiuso */
  flex-direction:column;
  align-items:stretch;

  padding:8px 0;
  margin:0;
  list-style:none;

  z-index:2500;          /* sopra header content */
}

body.mobile-view.nav-open nav ul{
  display:flex;
}

body.mobile-view nav ul a{
  display:block;
  width:100%;
  padding:14px 18px;
  font-size:15px;
  color:var(--text);
  border-bottom:none !important;
}
body.mobile-view nav ul li{
  border-bottom:1px solid rgba(0,0,0,.06);
}
body.mobile-view nav ul li:last-child{
  border-bottom:none;
}

/* layout mobile: sezioni a 1 colonna (target corretto: container + class) */
body.mobile-view .container.about{
  grid-template-columns:1fr !important;
  gap:24px !important;
}

/* workshops/giftcards: in mobile passa a FLEX per evitare collassi/sparizioni */
body.mobile-view .container.workshops,
body.mobile-view .container.giftcards{
  display:flex !important;
  flex-direction:column !important;
  gap:24px !important;
}

/* ordine: immagine sopra testo */
body.mobile-view .workshops-img,
body.mobile-view .giftcards-img{ order:1 !important; }

body.mobile-view .workshops-text,
body.mobile-view .giftcards-text{ order:2 !important; }

/* reset padding-top della colonna destra dell'about */
body.mobile-view .about-col-right{
  padding-top:0 !important;
}

body.mobile-view .catalogue-header{
  flex-direction:column;
  align-items:flex-start;
  gap:10px;
}
body.mobile-view .catalogue-header .lead{
  text-align:left;
  max-width:100%;
  font-size:13px;
}
body.mobile-view .catalogue-grid{
  grid-template-columns:1fr !important;
  gap:18px;
}

/* ─────────────────────────────────────────────
   C) RESPONSIVE AUTOMATICO (senza mobile-view)
   (utile su iPhone/Android senza forzare view)
──────────────────────────────────────────────*/
@media (max-width: 1024px){

  /* attiva hamburger anche senza mobile-view */
  .nav-toggle-btn,
  #nav-toggle{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    margin-left:8px;
    width:36px;
    height:36px;
    border-radius:8px;
    border:1px solid var(--border);
    background:#fff;
    font-size:20px;
    padding:0;
    cursor:pointer;
  }

  /* header fixed anche qui */
  header{
    position:fixed;
    top:0; left:0; right:0;
    z-index:2000;
    background:rgba(255,255,255,.95);
    backdrop-filter:saturate(180%) blur(14px);
    border-bottom:1px solid var(--border);
  }

  main{ padding-top:72px; }

  /* menu dropdown */
  nav ul{
    position:absolute;
    top:100%;
    left:0;
    right:0;

    background:#fff;
    border-bottom:1px solid var(--border);
    box-shadow:0 10px 30px rgba(0,0,0,.10);

    display:none;
    flex-direction:column;
    align-items:stretch;

    padding:8px 0;
    margin:0;
    list-style:none;

    z-index:2500;
  }

  body.nav-open nav ul{ display:flex; }
  /* ABOUT: 1 colonna anche senza mobile-view */
  .container.about{
    grid-template-columns:1fr !important;
    gap:24px !important;
  }
  .about-col-right{
    padding-top:0 !important;
  }

  /* WORKSHOPS/GIFTCARDS: flex colonna anche senza mobile-view */
  .container.workshops,
  .container.giftcards{
    display:flex !important;
    flex-direction:column !important;
    gap:24px !important;
  }

  .section h3{
    font-size:28px !important;
    line-height:1.15 !important;
    }
    .lead{
      font-size:15px !important;
      line-height:1.5 !important;
    }

  .workshops-img, .giftcards-img{ order:1 !important; }
  .workshops-text, .giftcards-text{ order:2 !important; }

}

/* phone: 1 colonna */
@media (max-width: 768px){
  .catalogue-grid{ grid-template-columns:1fr !important; }
}

/* tablet: 2 colonne */
@media (min-width: 769px) and (max-width: 1024px){
  .catalogue-grid{ grid-template-columns:repeat(2,1fr) !important; }
}

/* Mod */

/* ==========================================
   WORKSHOPS + GIFTCARDS: mobile safe layout
   (niente grid-template-areas, no collapse)
========================================== */

/* mobile-view forzata */
body.mobile-view .container.workshops,
body.mobile-view .container.giftcards{
  display:flex !important;
  flex-direction:column !important;
  gap:24px !important;
}

/* responsive automatico */
@media (max-width: 1024px){
  .container.workshops,
  .container.giftcards{
    display:flex !important;
    flex-direction:column !important;
    gap:24px !important;
  }
}

/* ordine: immagine sopra testo */
body.mobile-view .workshops-img,
body.mobile-view .giftcards-img{
  order:1 !important;
}

body.mobile-view .workshops-text,
body.mobile-view .giftcards-text{
  order:2 !important;
}

/* anche per responsive */
@media (max-width: 1024px){
  .workshops-img, .giftcards-img{ order:1 !important; }
  .workshops-text, .giftcards-text{ order:2 !important; }
}

/* assicurati che l'immagine non collassi */
.workshops-img img,
.giftcards-img img{
  display:block;
  width:100%;
  height:auto;
}

/* Modal: mobile = gallery sopra testo */
body.mobile-view .modal-body-inner{
  flex-direction:column !important;
}
body.mobile-view .modal-gallery{ order:1 !important; }
body.mobile-view .vase-detail-panel{ order:2 !important; min-width:0 !important; }

@media (max-width: 768px){
  .modal-body-inner{ flex-direction:column !important; }
  .modal-gallery{ order:1 !important; }
  .vase-detail-panel{ order:2 !important; min-width:0 !important; }
}

/* Tipografia: evita effetto "tutto minuscolo" nelle sezioni */
body.mobile-view .section h3{
  font-size:28px !important;
  line-height:1.15 !important;
}

body.mobile-view .lead{
  font-size:15px !important;
  line-height:1.5 !important;
}

